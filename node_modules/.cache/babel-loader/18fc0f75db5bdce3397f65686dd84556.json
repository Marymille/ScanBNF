{"remainingRequest":"C:\\Users\\CAMILLE\\Desktop\\groupe3\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\CAMILLE\\Desktop\\groupe3\\src\\classes\\recuperationDonnees.js","dependencies":[{"path":"C:\\Users\\CAMILLE\\Desktop\\groupe3\\src\\classes\\recuperationDonnees.js","mtime":1576506438462},{"path":"C:\\Users\\CAMILLE\\Desktop\\groupe3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\CAMILLE\\Desktop\\groupe3\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOlxcVXNlcnNcXENBTUlMTEVcXERlc2t0b3BcXGdyb3VwZTNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lLWNvcmVqczMvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6XFxVc2Vyc1xcQ0FNSUxMRVxcRGVza3RvcFxcZ3JvdXBlM1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBTcGFycWwgZnJvbSAiLi9zcGFycWwuanMiOwppbXBvcnQgSXNibiBmcm9tICIuL0lzYm4uanMiOwoKdmFyIHJlY3VwZXJhdGlvbkRvbm5lZXMgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiByZWN1cGVyYXRpb25Eb25uZWVzKHJlc3VsdGF0cykgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIHJlY3VwZXJhdGlvbkRvbm5lZXMpOwoKICAgIHRoaXMucmVzdWx0YXRzID0gcmVzdWx0YXRzOwogICAgdGhpcy5pc2JuID0gbmV3IElzYm4ocmVzdWx0YXRzLmVhbik7CiAgICB0aGlzLnJlcXVldGVfZG9ubmVlc19kZV9iYXNlKHRoaXMuaXNibik7CiAgICB0aGlzLnJlcXVldGVfZG9ubmVlc19hdXRldXIodGhpcy5pc2JuKTsKICAgIHRoaXMucmVxdWV0ZV9kb25uZXNfY29tcGxlbWVudGFpcmVzKHRoaXMuaXNibik7CiAgICB0aGlzLmZpbGxJU0JOMTAodGhpcy5pc2JuKTsKICB9CgogIF9jcmVhdGVDbGFzcyhyZWN1cGVyYXRpb25Eb25uZWVzLCBbewogICAga2V5OiAicmVxdWV0ZV9kb25uZWVzX2RlX2Jhc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlcXVldGVfZG9ubmVlc19kZV9iYXNlKGlzYm4pIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHsKICAgICAgICBjb25zb2xlLmxvZyhpc2JuLmdldEZvcm1hdGVkSVNCTigpKTsKICAgICAgICBjb25zb2xlLmxvZyhpc2JuLmdldEZvcm1hdGVkSVNCTjEwKCkpOwogICAgICAgIHZhciBzcGFycWwgPSBuZXcgU3BhcnFsKCdodHRwczovL2RhdGEuYm5mLmZyL3NwYXJxbCcpOwogICAgICAgIHNwYXJxbC5xdWVyeSgiUFJFRklYIHJkZjogPGh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyM+XG4gICAgICAgICAgICBQUkVGSVggZnJici1yZGE6IDxodHRwOi8vcmR2b2NhYi5pbmZvL3VyaS9zY2hlbWEvRlJCUmVudGl0aWVzUkRBLz5cbiAgICAgICAgICAgIFBSRUZJWCBibmYtb250bzogPGh0dHA6Ly9kYXRhLmJuZi5mci9vbnRvbG9neS9ibmYtb250by8+XG4gICAgICAgICAgICBQUkVGSVggZGN0ZXJtczogPGh0dHA6Ly9wdXJsLm9yZy9kYy90ZXJtcy8+XG4gICAgICAgICAgICBQUkVGSVggcmRhcmVsYXRpb25zaGlwczogPGh0dHA6Ly9yZHZvY2FiLmluZm8vUkRBUmVsYXRpb25zaGlwc1dFTUkvPlxuICAgICAgICAgICAgUFJFRklYIGZvYWY6IDxodHRwOi8veG1sbnMuY29tL2ZvYWYvMC4xLz5cbiAgICAgICAgICAgIFBSRUZJWCByZGFncm91cDFlbGVtZW50czogPGh0dHA6Ly9yZHZvY2FiLmluZm8vRWxlbWVudHMvPlxuICAgICAgICAgICAgU2VsZWN0ID90aXRyZV9tYW5pZmVzdGF0aW9uID9kYXRlX21hbmlmZXN0YXRpb24gP2xpZXVfcHVibGljYXRpb25fbWFuaWZlc3RhdGlvbiA/bGFuZ3VlX2V4cHJlc3Npb24gP2Rlc2NyaXB0aW9uX21hbmlmZXN0YXRpb24gP2VkaXRldXJfbWFuaWZlc3RhdGlvbiA/bm9tX2F1dGV1ciA/c3VqZXRfb2V1dnJlIHdoZXJlIHtcbiAgICAgICAgICAgICAgICA/bWFuaWYgZGN0ZXJtczp0aXRsZSA/dGl0cmVfbWFuaWZlc3RhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgZGN0ZXJtczpkYXRlID9kYXRlX21hbmlmZXN0YXRpb247XG4gICAgICAgICAgICAgICAgICAgIGRjdGVybXM6ZGVzY3JpcHRpb24gP2Rlc2NyaXB0aW9uX21hbmlmZXN0YXRpb247XG4gICAgICAgICAgICAgICAgICAgIGRjdGVybXM6cHVibGlzaGVyID9lZGl0ZXVyX21hbmlmZXN0YXRpb247XG4gICAgICAgICAgICAgICAgICAgIHJkYWdyb3VwMWVsZW1lbnRzOnBsYWNlT2ZQdWJsaWNhdGlvbiA/bGlldV9wdWJsaWNhdGlvbl9tYW5pZmVzdGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICByZGFyZWxhdGlvbnNoaXBzOmV4cHJlc3Npb25NYW5pZmVzdGVkID9leHByZXNzaW9uLlxuICAgICAgICAgICAgICAgID9leHByZXNzaW9uIDxodHRwOi8vZGF0YS5ibmYuZnIvdm9jYWJ1bGFyeS9yb2xlcy9yNzA+ID9hdXRldXIuXG4gICAgICAgICAgICAgICAgb3B0aW9uYWx7XG4gICAgICAgICAgICAgICAgICAgID9leHByZXNzaW9uIGRjdGVybXM6bGFuZ3VhZ2UgP2xhbmd1ZV9leHByZXNzaW9uLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRpb25hbHtcbiAgICAgICAgICAgICAgICAgICAgP29ldXZyZSByZGFyZWxhdGlvbnNoaXBzOmV4cHJlc3Npb25PZldvcmsgP2V4cHJlc3Npb247XG4gICAgICAgICAgICAgICAgICAgICAgICBibmYtb250bzpzdWJqZWN0ID9zdWpldF9vZXV2cmUuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgID9hdXRldXIgZm9hZjpuYW1lID9ub21fYXV0ZXVyLlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgP21hbmlmIGJuZi1vbnRvOmlzYm4gXCIiLmNvbmNhdChpc2JuLmdldEZvcm1hdGVkSVNCTigpLCAiXCJcbiAgICAgICAgICAgICAgICB9IFVOSU9OIHtcbiAgICAgICAgICAgICAgICAgICAgP21hbmlmIGJuZi1vbnRvOmlzYm4gXCIiKS5jb25jYXQoaXNibi5nZXRGb3JtYXRlZElTQk4xMCgpLCAiXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSIpKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIF90aGlzLmZpbGxJbmZvcyhyZXN1bHQsIGlzYm4pOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicmVxdWV0ZV9kb25uZWVzX2F1dGV1ciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVxdWV0ZV9kb25uZWVzX2F1dGV1cihpc2JuKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgewogICAgICAgIHZhciBzcGFycWwgPSBuZXcgU3BhcnFsKCdodHRwczovL2RhdGEuYm5mLmZyL3NwYXJxbCcpOwogICAgICAgIHNwYXJxbC5xdWVyeSgiUFJFRklYIGJuZi1vbnRvOiA8aHR0cDovL2RhdGEuYm5mLmZyL29udG9sb2d5L2JuZi1vbnRvLz5cbiAgICAgICAgICAgIFBSRUZJWCByZGFyZWxhdGlvbnNoaXBzOiA8aHR0cDovL3Jkdm9jYWIuaW5mby9SREFSZWxhdGlvbnNoaXBzV0VNSS8+XG4gICAgICAgICAgICBQUkVGSVggZm9hZjogPGh0dHA6Ly94bWxucy5jb20vZm9hZi8wLjEvPlxuICAgICAgICAgICAgUFJFRklYIHJkYWdyb3VwMmVsZW1lbnRzOiA8aHR0cDovL3Jkdm9jYWIuaW5mby9FbGVtZW50c0dyMi8+XG4gICAgICAgICAgICBQUkVGSVggZGN0ZXJtczogPGh0dHA6Ly9wdXJsLm9yZy9kYy90ZXJtcy8+XG5cdFx0XHRQUkVGSVggYm5mcm9sZXM6IDxodHRwOi8vZGF0YS5ibmYuZnIvdm9jYWJ1bGFyeS9yb2xlcy8+XG5cbiAgICAgICAgICAgIHNlbGVjdCA/bm9tX2F1dGV1ciA/cGF5c19hdXRldXIgP2ltYWdlX2F1dGV1ciA/aW5mb3JtYXRpb25zX2F1dGV1ciA/cGFnZV9hdXRldXIgP2RhdGVfbmFpc3NhbmNlX2F1dGV1ciA/bGlldV9uYWlzc2FuY2VfYXV0ZXVyID9kYXRlX21vcnRfYXV0ZXVyID9saWV1X21vcnRfYXV0ZXVyIHdoZXJle1xuICAgICAgICAgICAgICAgID9tYW5pZmVzdGF0aW9uIHJkYXJlbGF0aW9uc2hpcHM6ZXhwcmVzc2lvbk1hbmlmZXN0ZWQgP2V4cHJlc3Npb24uXG4gICAgICAgICAgICAgICAgP2V4cHJlc3Npb24gYm5mcm9sZXM6cjcwID9hdXRldXIuXG4gICAgICAgICAgICAgICAgP2F1dGV1ciBmb2FmOm5hbWUgP25vbV9hdXRldXIuXG4gIFx0XHRcdFx0b3B0aW9uYWx7XG4gICAgXHRcdFx0XHQ/YXV0ZXVyIGZvYWY6cGFnZSA/cGFnZV9hdXRldXIuXG4gIFx0XHRcdFx0fVxuICAgICAgICAgICAgICAgIG9wdGlvbmFse1xuICAgICAgICAgICAgICAgICAgICA/YXV0ZXVyIGJuZi1vbnRvOmZpcnN0WWVhciA/ZGF0ZV9uYWlzc2FuY2VfYXV0ZXVyLlxuICAgICAgICAgICAgICAgICAgICBvcHRpb25hbHtcbiAgICAgICAgICAgICAgICAgICAgICAgID9hdXRldXIgYm5mLW9udG86bGFzdFllYXIgP2RhdGVfbW9ydF9hdXRldXIuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0aW9uYWx7XG4gICAgICAgICAgICAgICAgICAgID9hdXRldXIgcmRhZ3JvdXAyZWxlbWVudHM6cGxhY2VPZkJpcnRoID9saWV1X25haXNzYW5jZV9hdXRldXIuXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbmFse1xuICAgICAgICAgICAgICAgICAgICAgICAgP2F1dGV1ciByZGFncm91cDJlbGVtZW50czpwbGFjZU9mRGVhdGggP2xpZXVfbW9ydF9hdXRldXIuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0aW9uYWx7XG4gICAgICAgICAgICAgICAgICAgID9hdXRldXIgcmRhZ3JvdXAyZWxlbWVudHM6Y291bnRyeUFzc29jaWF0ZWRXaXRoVGhlUGVyc29uID9wYXlzX2F1dGV1ci5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0aW9uYWx7XG4gICAgICAgICAgICAgICAgICAgID9hdXRldXIgZm9hZjpkZXBpY3Rpb24gP2ltYWdlX2F1dGV1ci5cbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyKHJlZ2V4KD9pbWFnZV9hdXRldXIsIFwiaHR0cDovL2NvbW1vbnMud2lraW1lZGlhLm9yZy93aWtpL1NwZWNpYWw6RmlsZVBhdGgvXCIpKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRpb25hbHtcbiAgICAgICAgICAgICAgICAgICAgP2F1dGV1ciByZGFncm91cDJlbGVtZW50czpiaW9ncmFwaGljYWxJbmZvcm1hdGlvbiA/aW5mb3JtYXRpb25zX2F1dGV1ci5cbiAgICAgICAgICAgICAgICB9XG4gIFx0XHRcdFx0IHtcbiAgICAgICAgICAgICAgICAgICAgP21hbmlmZXN0YXRpb24gYm5mLW9udG86aXNibiBcIiIuY29uY2F0KGlzYm4uZ2V0Rm9ybWF0ZWRJU0JOKCksICJcIlxuICAgICAgICAgICAgICAgIH0gVU5JT04ge1xuICAgICAgICAgICAgICAgICAgICA/bWFuaWZlc3RhdGlvbiBibmYtb250bzppc2JuIFwiIikuY29uY2F0KGlzYm4uZ2V0Rm9ybWF0ZWRJU0JOMTAoKSwgIlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGltaXQgMSIpKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRfYXV0ZXVyKSB7CiAgICAgICAgICBfdGhpczIuZmlsbEluZm9zQXV0ZXVyKHJlc3VsdF9hdXRldXIsIGlzYm4pOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicmVxdWV0ZV9kb25uZXNfY29tcGxlbWVudGFpcmVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXRlX2Rvbm5lc19jb21wbGVtZW50YWlyZXMoaXNibikgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHsKICAgICAgICB2YXIgc3BhcnFsID0gbmV3IFNwYXJxbCgnaHR0cHM6Ly9kYXRhLmJuZi5mci9zcGFycWwnKTsKICAgICAgICBzcGFycWwucXVlcnkoIlBSRUZJWCBibmYtb250bzogPGh0dHA6Ly9kYXRhLmJuZi5mci9vbnRvbG9neS9ibmYtb250by8+XG4gICAgICAgICAgICBQUkVGSVggcmRhcmVsYXRpb25zaGlwczogPGh0dHA6Ly9yZHZvY2FiLmluZm8vUkRBUmVsYXRpb25zaGlwc1dFTUkvPlxuICAgICAgICAgICAgUFJFRklYIGRjdGVybXM6IDxodHRwOi8vcHVybC5vcmcvZGMvdGVybXMvPlxuICAgICAgICAgICAgUFJFRklYIGZvYWY6IDxodHRwOi8veG1sbnMuY29tL2ZvYWYvMC4xLz5cbiAgICAgICAgICAgIFBSRUZJWCByZGY6IDxodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjPlxuICAgICAgICAgICAgUFJFRklYIHNrb3M6IDxodHRwOi8vd3d3LnczLm9yZy8yMDA0LzAyL3Nrb3MvY29yZSM+XG4gICAgICAgICAgICBQUkVGSVggYm5mcm9sZXM6IDxodHRwOi8vZGF0YS5ibmYuZnIvdm9jYWJ1bGFyeS9yb2xlcy8+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNlbGVjdCA/aXNibiA/ZXh0cmFpdF9tYW5pZmVzdGF0aW9uID90aXRyZV9tYW5pZmVzdGF0aW9uc19hdXRldXIgP3B1YiA/ZGF0ZV9tYW5pZmVzdGF0aW9uc19hdXRldXIgP3N1amV0X2F1dGV1ciB3aGVyZXtcbiAgICAgICAgICAgICAgICA/bWFuaWZlc3RhdGlvbiByZGFyZWxhdGlvbnNoaXBzOmV4cHJlc3Npb25NYW5pZmVzdGVkID9leHByZXNzaW9uLlxuICAgICAgICAgICAgICAgID9leHByZXNzaW9uIGJuZnJvbGVzOnI3MCA/YXV0ZXVyLlxuICAgICAgICAgICAgICAgID9leHByZXNzaW9uc19hdXRldXIgYm5mcm9sZXM6cjcwID9hdXRldXIuXG4gICAgICAgICAgICAgICAgI2RjdGVybXM6bGFuZ3VhZ2UgPGh0dHA6Ly9pZC5sb2MuZ292L3ZvY2FidWxhcnkvaXNvNjM5LTIvZnJlPi5cbiAgICAgICAgICAgICAgICA/bWFuaWZlc3RhdGlvbnNfYXV0ZXVyIHJkYXJlbGF0aW9uc2hpcHM6ZXhwcmVzc2lvbk1hbmlmZXN0ZWQgP2V4cHJlc3Npb25zX2F1dGV1cjtcbiAgICAgICAgICAgICAgICAgICAgZGN0ZXJtczp0aXRsZSA/dGl0cmVfbWFuaWZlc3RhdGlvbnNfYXV0ZXVyO1xuICAgICAgICAgICAgICAgICAgICBkY3Rlcm1zOmRhdGUgP2RhdGVfbWFuaWZlc3RhdGlvbnNfYXV0ZXVyO1xuICAgICAgICAgICAgICAgICAgICBibmYtb250bzppc2JuID9pc2JuO1xuICAgICAgICAgICAgICAgICAgICBkY3Rlcm1zOnB1Ymxpc2hlciA/cHViLlxuICAgICAgICAgICAgICAgIG9wdGlvbmFse1xuICAgICAgICAgICAgICAgICAgICA/bWFuaWZlc3RhdGlvbnNfYXV0ZXVyIGRjdGVybXM6YWJzdHJhY3QgP2V4dHJhaXRfbWFuaWZlc3RhdGlvbi5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0aW9uYWx7XG4gICAgICAgICAgICAgICAgICAgID9tYW5pZmVzdGF0aW9uc19hdXRldXIgZGN0ZXJtczpzdWJqZWN0ID9zdWpldF9hdXRldXIuXG4gICAgICAgICAgICAgICAgfVxuICBcdFx0XHRcdHtcbiAgICAgICAgICAgICAgICAgICAgP21hbmlmZXN0YXRpb24gYm5mLW9udG86aXNibiBcIiIuY29uY2F0KGlzYm4uZ2V0Rm9ybWF0ZWRJU0JOKCksICJcIlxuICAgICAgICAgICAgICAgIH0gVU5JT04ge1xuICAgICAgICAgICAgICAgICAgICA/bWFuaWZlc3RhdGlvbiBibmYtb250bzppc2JuIFwiIikuY29uY2F0KGlzYm4uZ2V0Rm9ybWF0ZWRJU0JOMTAoKSwgIlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBncm91cCBieSA/dGl0cmVfbWFuaWZlc3RhdGlvbnNfYXV0ZXVyXG4gICAgICAgICAgICBsaW1pdCAxMDAiKSkudGhlbihmdW5jdGlvbiAocmVzdWx0X2NvbXBsZW1lbnRhaXJlcykgewogICAgICAgICAgX3RoaXMzLmZpbGxJbmZvc0NvbXBsZW1lbnRhaXJlcyhyZXN1bHRfY29tcGxlbWVudGFpcmVzLCBpc2JuKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImdldFZhbHVlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZSgkb2JqZXQsICRsKSB7CiAgICAgIHJldHVybiAkb2JqZXRbJGxdID8gJG9iamV0WyRsXS52YWx1ZSA6ICIiOwogICAgfQogIH0sIHsKICAgIGtleTogImZpbGxJU0JOMTAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZpbGxJU0JOMTAoaXNibikgewogICAgICB2YXIgaXNibiA9IHRoaXMuaXNibi5nZXRJU0JOMTAoKTsKICAgICAgdGhpcy5yZXN1bHRhdHMuaXNibjEwID0gaXNibjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmaWxsSW5mb3MiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZpbGxJbmZvcyhyZXN1bHQsIGlzYm4pIHsKICAgICAgaWYgKHJlc3VsdC5yZXN1bHRzLmJpbmRpbmdzLmxlbmd0aCkgewogICAgICAgIHZhciByZXN1bHRhdHMgPSByZXN1bHQucmVzdWx0cy5iaW5kaW5nc1swXTsKICAgICAgICB0aGlzLnJlc3VsdGF0cy50aXRyZV9tYW5pZmVzdGF0aW9uID0gdGhpcy5nZXRWYWx1ZShyZXN1bHRhdHMsICd0aXRyZV9tYW5pZmVzdGF0aW9uJyk7CiAgICAgICAgdGhpcy5yZXN1bHRhdHMuZGF0ZV9tYW5pZmVzdGF0aW9uID0gdGhpcy5nZXRWYWx1ZShyZXN1bHRhdHMsICdkYXRlX21hbmlmZXN0YXRpb24nKTsKICAgICAgICB0aGlzLnJlc3VsdGF0cy5saWV1X3B1YmxpY2F0aW9uX21hbmlmZXN0YXRpb24gPSB0aGlzLmdldFZhbHVlKHJlc3VsdGF0cywgJ2xpZXVfcHVibGljYXRpb25fbWFuaWZlc3RhdGlvbicpOwogICAgICAgIHRoaXMucmVzdWx0YXRzLmxhbmd1ZV9leHByZXNzaW9uID0gdGhpcy5nZXRWYWx1ZShyZXN1bHRhdHMsICdsYW5ndWVfZXhwcmVzc2lvbicpOwogICAgICAgIHRoaXMucmVzdWx0YXRzLmRlc2NyaXB0aW9uX21hbmlmZXN0YXRpb24gPSB0aGlzLmdldFZhbHVlKHJlc3VsdGF0cywgJ2Rlc2NyaXB0aW9uX21hbmlmZXN0YXRpb24nKTsKICAgICAgICB0aGlzLnJlc3VsdGF0cy5lZGl0ZXVyX21hbmlmZXN0YXRpb24gPSB0aGlzLmdldFZhbHVlKHJlc3VsdGF0cywgJ2VkaXRldXJfbWFuaWZlc3RhdGlvbicpOwogICAgICAgIHRoaXMucmVzdWx0YXRzLm5vbV9hdXRldXIgPSB0aGlzLmdldFZhbHVlKHJlc3VsdGF0cywgJ25vbV9hdXRldXInKTsKICAgICAgICB0aGlzLnJlc3VsdGF0cy5zdWpldF9vZXV2cmUgPSB0aGlzLmdldFZhbHVlKHJlc3VsdGF0cywgJ3N1amV0X29ldXZyZScpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZmlsbEluZm9zQXV0ZXVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmaWxsSW5mb3NBdXRldXIocmVzdWx0X2F1dGV1ciwgaXNibikgewogICAgICBpZiAocmVzdWx0X2F1dGV1ci5yZXN1bHRzLmJpbmRpbmdzLmxlbmd0aCkgewogICAgICAgIHZhciByZXN1bHRhdHMgPSByZXN1bHRfYXV0ZXVyLnJlc3VsdHMuYmluZGluZ3NbMF07CiAgICAgICAgdGhpcy5yZXN1bHRhdHMuYXV0ZXVyLnBheXNfYXV0ZXVyID0gdGhpcy5nZXRWYWx1ZShyZXN1bHRhdHMsICdwYXlzX2F1dGV1cicpOwogICAgICAgIHRoaXMucmVzdWx0YXRzLmF1dGV1ci5pbWFnZV9hdXRldXIgPSB0aGlzLmdldFZhbHVlKHJlc3VsdGF0cywgImltYWdlX2F1dGV1ciIpOwogICAgICAgIHRoaXMucmVzdWx0YXRzLmF1dGV1ci5pbmZvcm1hdGlvbnNfYXV0ZXVyID0gdGhpcy5nZXRWYWx1ZShyZXN1bHRhdHMsICdpbmZvcm1hdGlvbnNfYXV0ZXVyJyk7CiAgICAgICAgdGhpcy5yZXN1bHRhdHMuYXV0ZXVyLnBhZ2VfYXV0ZXVyID0gdGhpcy5nZXRWYWx1ZShyZXN1bHRhdHMsICdwYWdlX2F1dGV1cicpOwogICAgICAgIHRoaXMucmVzdWx0YXRzLmF1dGV1ci5kYXRlX25haXNzYW5jZV9hdXRldXIgPSB0aGlzLmdldFZhbHVlKHJlc3VsdGF0cywgJ2RhdGVfbmFpc3NhbmNlX2F1dGV1cicpOwogICAgICAgIHRoaXMucmVzdWx0YXRzLmF1dGV1ci5saWV1X25haXNzYW5jZV9hdXRldXIgPSB0aGlzLmdldFZhbHVlKHJlc3VsdGF0cywgJ2xpZXVfbmFpc3NhbmNlX2F1dGV1cicpOwogICAgICAgIHRoaXMucmVzdWx0YXRzLmF1dGV1ci5kYXRlX21vcnRfYXV0ZXVyID0gdGhpcy5nZXRWYWx1ZShyZXN1bHRhdHMsICdkYXRlX21vcnRfYXV0ZXVyJyk7CiAgICAgICAgdGhpcy5yZXN1bHRhdHMuYXV0ZXVyLmxpZXVfbW9ydF9hdXRldXIgPSB0aGlzLmdldFZhbHVlKHJlc3VsdGF0cywgJ2xpZXVfbW9ydF9hdXRldXInKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImZpbGxJbmZvc0NvbXBsZW1lbnRhaXJlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmlsbEluZm9zQ29tcGxlbWVudGFpcmVzKHJlc3VsdF9jb21wbGVtZW50YWlyZXMsIGlzYm4pIHsKICAgICAgaWYgKHJlc3VsdF9jb21wbGVtZW50YWlyZXMucmVzdWx0cy5iaW5kaW5ncy5sZW5ndGgpIHsKICAgICAgICB0aGlzLnJlc3VsdGF0cy5kb25uZWVzX2NvbXBsZW1lbnRhaXJlcyA9IFtdOwogICAgICAgIHZhciByZXN1bHRhdHMgPSByZXN1bHRfY29tcGxlbWVudGFpcmVzLnJlc3VsdHMuYmluZGluZ3M7CgogICAgICAgIGZvciAodmFyIGkgaW4gcmVzdWx0YXRzKSB7CiAgICAgICAgICB2YXIgZG9ubmVlcyA9IHsKICAgICAgICAgICAgaXNibjogdGhpcy5nZXRWYWx1ZShyZXN1bHRhdHNbaV0sICJpc2JuIiksCiAgICAgICAgICAgIGV4dHJhaXRfbWFuaWZlc3RhdGlvbjogdGhpcy5nZXRWYWx1ZShyZXN1bHRhdHNbaV0sICJleHRyYWl0X21hbmlmZXN0YXRpb24iKSwKICAgICAgICAgICAgdGl0cmVfbWFuaWZlc3RhdGlvbnNfYXV0ZXVyOiB0aGlzLmdldFZhbHVlKHJlc3VsdGF0c1tpXSwgJ3RpdHJlX21hbmlmZXN0YXRpb25zX2F1dGV1cicpLAogICAgICAgICAgICBwdWI6IHRoaXMuZ2V0VmFsdWUocmVzdWx0YXRzW2ldLCAncHViLnZhbHVlJyksCiAgICAgICAgICAgIGRhdGVfbWFuaWZlc3RhdGlvbnNfYXV0ZXVyOiB0aGlzLmdldFZhbHVlKHJlc3VsdGF0c1tpXSwgJ2RhdGVfbWFuaWZlc3RhdGlvbnNfYXV0ZXVyJyksCiAgICAgICAgICAgIHN1amV0X2F1dGV1cjogdGhpcy5nZXRWYWx1ZShyZXN1bHRhdHNbaV0sICdzdWpldF9hdXRldXInKQogICAgICAgICAgfTsKICAgICAgICAgIHRoaXMucmVzdWx0YXRzLmRvbm5lZXNfY29tcGxlbWVudGFpcmVzLnB1c2goZG9ubmVlcyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfV0pOwoKICByZXR1cm4gcmVjdXBlcmF0aW9uRG9ubmVlczsKfSgpOwoKZXhwb3J0IHsgcmVjdXBlcmF0aW9uRG9ubmVlcyBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["C:/Users/CAMILLE/Desktop/groupe3/src/classes/recuperationDonnees.js"],"names":["Sparql","Isbn","recuperationDonnees","resultats","isbn","ean","requete_donnees_de_base","requete_donnees_auteur","requete_donnes_complementaires","fillISBN10","console","log","getFormatedISBN","getFormatedISBN10","sparql","query","then","result","fillInfos","catch","error","result_auteur","fillInfosAuteur","result_complementaires","fillInfosComplementaires","$objet","$l","value","getISBN10","isbn10","results","bindings","length","titre_manifestation","getValue","date_manifestation","lieu_publication_manifestation","langue_expression","description_manifestation","editeur_manifestation","nom_auteur","sujet_oeuvre","auteur","pays_auteur","image_auteur","informations_auteur","page_auteur","date_naissance_auteur","lieu_naissance_auteur","date_mort_auteur","lieu_mort_auteur","donnees_complementaires","i","donnees","extrait_manifestation","titre_manifestations_auteur","pub","date_manifestations_auteur","sujet_auteur","push"],"mappings":"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","sourcesContent":["import Sparql from './sparql.js';\nimport Isbn from './Isbn.js';\n\nexport default class recuperationDonnees{\n    constructor(resultats){\n        this.resultats = resultats;\n        this.isbn = new Isbn(resultats.ean);\n        this.requete_donnees_de_base(this.isbn);\n        this.requete_donnees_auteur(this.isbn);\n        this.requete_donnes_complementaires(this.isbn);\n        this.fillISBN10(this.isbn)\n    }\n    requete_donnees_de_base(isbn){\n        {\n            console.log(isbn.getFormatedISBN())\n            console.log(isbn.getFormatedISBN10())\n            var sparql= new Sparql('https://data.bnf.fr/sparql');\n            sparql.query(`PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n            PREFIX frbr-rda: <http://rdvocab.info/uri/schema/FRBRentitiesRDA/>\n            PREFIX bnf-onto: <http://data.bnf.fr/ontology/bnf-onto/>\n            PREFIX dcterms: <http://purl.org/dc/terms/>\n            PREFIX rdarelationships: <http://rdvocab.info/RDARelationshipsWEMI/>\n            PREFIX foaf: <http://xmlns.com/foaf/0.1/>\n            PREFIX rdagroup1elements: <http://rdvocab.info/Elements/>\n            Select ?titre_manifestation ?date_manifestation ?lieu_publication_manifestation ?langue_expression ?description_manifestation ?editeur_manifestation ?nom_auteur ?sujet_oeuvre where {\n                ?manif dcterms:title ?titre_manifestation;\n                    dcterms:date ?date_manifestation;\n                    dcterms:description ?description_manifestation;\n                    dcterms:publisher ?editeur_manifestation;\n                    rdagroup1elements:placeOfPublication ?lieu_publication_manifestation;\n                    rdarelationships:expressionManifested ?expression.\n                ?expression <http://data.bnf.fr/vocabulary/roles/r70> ?auteur.\n                optional{\n                    ?expression dcterms:language ?langue_expression.\n                }\n                optional{\n                    ?oeuvre rdarelationships:expressionOfWork ?expression;\n                        bnf-onto:subject ?sujet_oeuvre.\n                }\n                ?auteur foaf:name ?nom_auteur.\n                {\n                    ?manif bnf-onto:isbn \"${isbn.getFormatedISBN()}\"\n                } UNION {\n                    ?manif bnf-onto:isbn \"${isbn.getFormatedISBN10()}\"\n                }\n                }`).then(result=>{\n                    this.fillInfos(result,isbn);\n                }).catch(error=>{\n                    console.log(error);\n                });\n        }\n    }\n    requete_donnees_auteur(isbn){\n        {\n            var sparql= new Sparql('https://data.bnf.fr/sparql');\n            sparql.query(`PREFIX bnf-onto: <http://data.bnf.fr/ontology/bnf-onto/>\n            PREFIX rdarelationships: <http://rdvocab.info/RDARelationshipsWEMI/>\n            PREFIX foaf: <http://xmlns.com/foaf/0.1/>\n            PREFIX rdagroup2elements: <http://rdvocab.info/ElementsGr2/>\n            PREFIX dcterms: <http://purl.org/dc/terms/>\n\t\t\tPREFIX bnfroles: <http://data.bnf.fr/vocabulary/roles/>\n\n            select ?nom_auteur ?pays_auteur ?image_auteur ?informations_auteur ?page_auteur ?date_naissance_auteur ?lieu_naissance_auteur ?date_mort_auteur ?lieu_mort_auteur where{\n                ?manifestation rdarelationships:expressionManifested ?expression.\n                ?expression bnfroles:r70 ?auteur.\n                ?auteur foaf:name ?nom_auteur.\n  \t\t\t\toptional{\n    \t\t\t\t?auteur foaf:page ?page_auteur.\n  \t\t\t\t}\n                optional{\n                    ?auteur bnf-onto:firstYear ?date_naissance_auteur.\n                    optional{\n                        ?auteur bnf-onto:lastYear ?date_mort_auteur.\n                    }\n                }\n                optional{\n                    ?auteur rdagroup2elements:placeOfBirth ?lieu_naissance_auteur.\n                    optional{\n                        ?auteur rdagroup2elements:placeOfDeath ?lieu_mort_auteur.\n                    }\n                }\n                optional{\n                    ?auteur rdagroup2elements:countryAssociatedWithThePerson ?pays_auteur.\n                }\n                optional{\n                    ?auteur foaf:depiction ?image_auteur.\n                    filter(regex(?image_auteur, \"http://commons.wikimedia.org/wiki/Special:FilePath/\"))\n                }\n                optional{\n                    ?auteur rdagroup2elements:biographicalInformation ?informations_auteur.\n                }\n  \t\t\t\t {\n                    ?manifestation bnf-onto:isbn \"${isbn.getFormatedISBN()}\"\n                } UNION {\n                    ?manifestation bnf-onto:isbn \"${isbn.getFormatedISBN10()}\"\n                }\n            }\n            limit 1`).then(result_auteur=>{\n                this.fillInfosAuteur(result_auteur,isbn);\n            }).catch(error=>{\n                console.log(error);\n            });\n        }\n\n    }\n    requete_donnes_complementaires(isbn){\n        {\n            var sparql= new Sparql('https://data.bnf.fr/sparql');\n            sparql.query(`PREFIX bnf-onto: <http://data.bnf.fr/ontology/bnf-onto/>\n            PREFIX rdarelationships: <http://rdvocab.info/RDARelationshipsWEMI/>\n            PREFIX dcterms: <http://purl.org/dc/terms/>\n            PREFIX foaf: <http://xmlns.com/foaf/0.1/>\n            PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n            PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n            PREFIX bnfroles: <http://data.bnf.fr/vocabulary/roles/>\n            \n            select ?isbn ?extrait_manifestation ?titre_manifestations_auteur ?pub ?date_manifestations_auteur ?sujet_auteur where{\n                ?manifestation rdarelationships:expressionManifested ?expression.\n                ?expression bnfroles:r70 ?auteur.\n                ?expressions_auteur bnfroles:r70 ?auteur.\n                #dcterms:language <http://id.loc.gov/vocabulary/iso639-2/fre>.\n                ?manifestations_auteur rdarelationships:expressionManifested ?expressions_auteur;\n                    dcterms:title ?titre_manifestations_auteur;\n                    dcterms:date ?date_manifestations_auteur;\n                    bnf-onto:isbn ?isbn;\n                    dcterms:publisher ?pub.\n                optional{\n                    ?manifestations_auteur dcterms:abstract ?extrait_manifestation.\n                }\n                optional{\n                    ?manifestations_auteur dcterms:subject ?sujet_auteur.\n                }\n  \t\t\t\t{\n                    ?manifestation bnf-onto:isbn \"${isbn.getFormatedISBN()}\"\n                } UNION {\n                    ?manifestation bnf-onto:isbn \"${isbn.getFormatedISBN10()}\"\n                }\n            }\n            \n            group by ?titre_manifestations_auteur\n            limit 100`).then(result_complementaires=>{\n                this.fillInfosComplementaires(result_complementaires,isbn);\n            }).catch(error=>{\n                console.log(error);\n            });\n        }\n    }\n    getValue($objet,$l) {\n        return ($objet[$l]?$objet[$l].value:\"\");\n    }\n\n    fillISBN10(isbn){\n        var isbn = this.isbn.getISBN10();\n        this.resultats.isbn10 = isbn;\n    }\n\n    fillInfos(result,isbn){\n        if(result.results.bindings.length){\n            let resultats=result.results.bindings[0];\n            this.resultats.titre_manifestation = this.getValue(resultats, 'titre_manifestation');\n            this.resultats.date_manifestation = this.getValue(resultats, 'date_manifestation');\n            this.resultats.lieu_publication_manifestation = this.getValue(resultats, 'lieu_publication_manifestation');\n            this.resultats.langue_expression = this.getValue(resultats, 'langue_expression');\n            this.resultats.description_manifestation = this.getValue(resultats, 'description_manifestation');\n            this.resultats.editeur_manifestation = this.getValue(resultats,'editeur_manifestation');\n            this.resultats.nom_auteur = this.getValue(resultats, 'nom_auteur');\n            this.resultats.sujet_oeuvre = this.getValue(resultats, 'sujet_oeuvre')\n        }\n    }\n    fillInfosAuteur(result_auteur,isbn){\n        if(result_auteur.results.bindings.length){\n            let resultats = result_auteur.results.bindings[0];\n            this.resultats.auteur.pays_auteur = this.getValue(resultats, 'pays_auteur');\n            this.resultats.auteur.image_auteur = this.getValue(resultats,\"image_auteur\");\n            this.resultats.auteur.informations_auteur = this.getValue(resultats, 'informations_auteur');\n            this.resultats.auteur.page_auteur = this.getValue(resultats, 'page_auteur');\n            this.resultats.auteur.date_naissance_auteur = this.getValue(resultats, 'date_naissance_auteur');\n            this.resultats.auteur.lieu_naissance_auteur = this.getValue(resultats, 'lieu_naissance_auteur');\n            this.resultats.auteur.date_mort_auteur = this.getValue(resultats, 'date_mort_auteur');\n            this.resultats.auteur.lieu_mort_auteur = this.getValue(resultats, 'lieu_mort_auteur')\n        }\n    }\n    fillInfosComplementaires(result_complementaires, isbn){\n        if(result_complementaires.results.bindings.length){ \n            this.resultats.donnees_complementaires=[];\n            let resultats = result_complementaires.results.bindings;\n            for (let i in resultats){\n                let donnees={\n                    isbn:this.getValue(resultats[i],\"isbn\"),\n                    extrait_manifestation:this.getValue(resultats[i], \"extrait_manifestation\"),\n                    titre_manifestations_auteur:this.getValue(resultats[i],'titre_manifestations_auteur'),\n                    pub:this.getValue(resultats[i],'pub.value'),\n                    date_manifestations_auteur:this.getValue(resultats[i],'date_manifestations_auteur'),\n                    sujet_auteur:this.getValue(resultats[i],'sujet_auteur')\n                };\n                this.resultats.donnees_complementaires.push(donnees);\n            }\n            \n        }\n    }\n}"]}]}