{"remainingRequest":"C:\\Users\\CAMILLE\\Desktop\\BNF-Scan\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\CAMILLE\\Desktop\\BNF-Scan\\src\\classes\\recuperationDonnees.js","dependencies":[{"path":"C:\\Users\\CAMILLE\\Desktop\\BNF-Scan\\src\\classes\\recuperationDonnees.js","mtime":1576506438462},{"path":"C:\\Users\\CAMILLE\\Desktop\\BNF-Scan\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\CAMILLE\\Desktop\\BNF-Scan\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOlxcVXNlcnNcXENBTUlMTEVcXERlc2t0b3BcXEJORi1TY2FuXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOlxcVXNlcnNcXENBTUlMTEVcXERlc2t0b3BcXEJORi1TY2FuXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IFNwYXJxbCBmcm9tICIuL3NwYXJxbC5qcyI7CmltcG9ydCBJc2JuIGZyb20gIi4vSXNibi5qcyI7Cgp2YXIgcmVjdXBlcmF0aW9uRG9ubmVlcyA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIHJlY3VwZXJhdGlvbkRvbm5lZXMocmVzdWx0YXRzKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgcmVjdXBlcmF0aW9uRG9ubmVlcyk7CgogICAgdGhpcy5yZXN1bHRhdHMgPSByZXN1bHRhdHM7CiAgICB0aGlzLmlzYm4gPSBuZXcgSXNibihyZXN1bHRhdHMuZWFuKTsKICAgIHRoaXMucmVxdWV0ZV9kb25uZWVzX2RlX2Jhc2UodGhpcy5pc2JuKTsKICAgIHRoaXMucmVxdWV0ZV9kb25uZWVzX2F1dGV1cih0aGlzLmlzYm4pOwogICAgdGhpcy5yZXF1ZXRlX2Rvbm5lc19jb21wbGVtZW50YWlyZXModGhpcy5pc2JuKTsKICAgIHRoaXMuZmlsbElTQk4xMCh0aGlzLmlzYm4pOwogIH0KCiAgX2NyZWF0ZUNsYXNzKHJlY3VwZXJhdGlvbkRvbm5lZXMsIFt7CiAgICBrZXk6ICJyZXF1ZXRlX2Rvbm5lZXNfZGVfYmFzZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVxdWV0ZV9kb25uZWVzX2RlX2Jhc2UoaXNibikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgewogICAgICAgIGNvbnNvbGUubG9nKGlzYm4uZ2V0Rm9ybWF0ZWRJU0JOKCkpOwogICAgICAgIGNvbnNvbGUubG9nKGlzYm4uZ2V0Rm9ybWF0ZWRJU0JOMTAoKSk7CiAgICAgICAgdmFyIHNwYXJxbCA9IG5ldyBTcGFycWwoJ2h0dHBzOi8vZGF0YS5ibmYuZnIvc3BhcnFsJyk7CiAgICAgICAgc3BhcnFsLnF1ZXJ5KCJQUkVGSVggcmRmOiA8aHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIz5cbiAgICAgICAgICAgIFBSRUZJWCBmcmJyLXJkYTogPGh0dHA6Ly9yZHZvY2FiLmluZm8vdXJpL3NjaGVtYS9GUkJSZW50aXRpZXNSREEvPlxuICAgICAgICAgICAgUFJFRklYIGJuZi1vbnRvOiA8aHR0cDovL2RhdGEuYm5mLmZyL29udG9sb2d5L2JuZi1vbnRvLz5cbiAgICAgICAgICAgIFBSRUZJWCBkY3Rlcm1zOiA8aHR0cDovL3B1cmwub3JnL2RjL3Rlcm1zLz5cbiAgICAgICAgICAgIFBSRUZJWCByZGFyZWxhdGlvbnNoaXBzOiA8aHR0cDovL3Jkdm9jYWIuaW5mby9SREFSZWxhdGlvbnNoaXBzV0VNSS8+XG4gICAgICAgICAgICBQUkVGSVggZm9hZjogPGh0dHA6Ly94bWxucy5jb20vZm9hZi8wLjEvPlxuICAgICAgICAgICAgUFJFRklYIHJkYWdyb3VwMWVsZW1lbnRzOiA8aHR0cDovL3Jkdm9jYWIuaW5mby9FbGVtZW50cy8+XG4gICAgICAgICAgICBTZWxlY3QgP3RpdHJlX21hbmlmZXN0YXRpb24gP2RhdGVfbWFuaWZlc3RhdGlvbiA/bGlldV9wdWJsaWNhdGlvbl9tYW5pZmVzdGF0aW9uID9sYW5ndWVfZXhwcmVzc2lvbiA/ZGVzY3JpcHRpb25fbWFuaWZlc3RhdGlvbiA/ZWRpdGV1cl9tYW5pZmVzdGF0aW9uID9ub21fYXV0ZXVyID9zdWpldF9vZXV2cmUgd2hlcmUge1xuICAgICAgICAgICAgICAgID9tYW5pZiBkY3Rlcm1zOnRpdGxlID90aXRyZV9tYW5pZmVzdGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBkY3Rlcm1zOmRhdGUgP2RhdGVfbWFuaWZlc3RhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgZGN0ZXJtczpkZXNjcmlwdGlvbiA/ZGVzY3JpcHRpb25fbWFuaWZlc3RhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgZGN0ZXJtczpwdWJsaXNoZXIgP2VkaXRldXJfbWFuaWZlc3RhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgcmRhZ3JvdXAxZWxlbWVudHM6cGxhY2VPZlB1YmxpY2F0aW9uID9saWV1X3B1YmxpY2F0aW9uX21hbmlmZXN0YXRpb247XG4gICAgICAgICAgICAgICAgICAgIHJkYXJlbGF0aW9uc2hpcHM6ZXhwcmVzc2lvbk1hbmlmZXN0ZWQgP2V4cHJlc3Npb24uXG4gICAgICAgICAgICAgICAgP2V4cHJlc3Npb24gPGh0dHA6Ly9kYXRhLmJuZi5mci92b2NhYnVsYXJ5L3JvbGVzL3I3MD4gP2F1dGV1ci5cbiAgICAgICAgICAgICAgICBvcHRpb25hbHtcbiAgICAgICAgICAgICAgICAgICAgP2V4cHJlc3Npb24gZGN0ZXJtczpsYW5ndWFnZSA/bGFuZ3VlX2V4cHJlc3Npb24uXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdGlvbmFse1xuICAgICAgICAgICAgICAgICAgICA/b2V1dnJlIHJkYXJlbGF0aW9uc2hpcHM6ZXhwcmVzc2lvbk9mV29yayA/ZXhwcmVzc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJuZi1vbnRvOnN1YmplY3QgP3N1amV0X29ldXZyZS5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgP2F1dGV1ciBmb2FmOm5hbWUgP25vbV9hdXRldXIuXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICA/bWFuaWYgYm5mLW9udG86aXNibiBcIiIuY29uY2F0KGlzYm4uZ2V0Rm9ybWF0ZWRJU0JOKCksICJcIlxuICAgICAgICAgICAgICAgIH0gVU5JT04ge1xuICAgICAgICAgICAgICAgICAgICA/bWFuaWYgYm5mLW9udG86aXNibiBcIiIpLmNvbmNhdChpc2JuLmdldEZvcm1hdGVkSVNCTjEwKCksICJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IikpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgX3RoaXMuZmlsbEluZm9zKHJlc3VsdCwgaXNibik7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXF1ZXRlX2Rvbm5lZXNfYXV0ZXVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXRlX2Rvbm5lZXNfYXV0ZXVyKGlzYm4pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB7CiAgICAgICAgdmFyIHNwYXJxbCA9IG5ldyBTcGFycWwoJ2h0dHBzOi8vZGF0YS5ibmYuZnIvc3BhcnFsJyk7CiAgICAgICAgc3BhcnFsLnF1ZXJ5KCJQUkVGSVggYm5mLW9udG86IDxodHRwOi8vZGF0YS5ibmYuZnIvb250b2xvZ3kvYm5mLW9udG8vPlxuICAgICAgICAgICAgUFJFRklYIHJkYXJlbGF0aW9uc2hpcHM6IDxodHRwOi8vcmR2b2NhYi5pbmZvL1JEQVJlbGF0aW9uc2hpcHNXRU1JLz5cbiAgICAgICAgICAgIFBSRUZJWCBmb2FmOiA8aHR0cDovL3htbG5zLmNvbS9mb2FmLzAuMS8+XG4gICAgICAgICAgICBQUkVGSVggcmRhZ3JvdXAyZWxlbWVudHM6IDxodHRwOi8vcmR2b2NhYi5pbmZvL0VsZW1lbnRzR3IyLz5cbiAgICAgICAgICAgIFBSRUZJWCBkY3Rlcm1zOiA8aHR0cDovL3B1cmwub3JnL2RjL3Rlcm1zLz5cblx0XHRcdFBSRUZJWCBibmZyb2xlczogPGh0dHA6Ly9kYXRhLmJuZi5mci92b2NhYnVsYXJ5L3JvbGVzLz5cblxuICAgICAgICAgICAgc2VsZWN0ID9ub21fYXV0ZXVyID9wYXlzX2F1dGV1ciA/aW1hZ2VfYXV0ZXVyID9pbmZvcm1hdGlvbnNfYXV0ZXVyID9wYWdlX2F1dGV1ciA/ZGF0ZV9uYWlzc2FuY2VfYXV0ZXVyID9saWV1X25haXNzYW5jZV9hdXRldXIgP2RhdGVfbW9ydF9hdXRldXIgP2xpZXVfbW9ydF9hdXRldXIgd2hlcmV7XG4gICAgICAgICAgICAgICAgP21hbmlmZXN0YXRpb24gcmRhcmVsYXRpb25zaGlwczpleHByZXNzaW9uTWFuaWZlc3RlZCA/ZXhwcmVzc2lvbi5cbiAgICAgICAgICAgICAgICA/ZXhwcmVzc2lvbiBibmZyb2xlczpyNzAgP2F1dGV1ci5cbiAgICAgICAgICAgICAgICA/YXV0ZXVyIGZvYWY6bmFtZSA/bm9tX2F1dGV1ci5cbiAgXHRcdFx0XHRvcHRpb25hbHtcbiAgICBcdFx0XHRcdD9hdXRldXIgZm9hZjpwYWdlID9wYWdlX2F1dGV1ci5cbiAgXHRcdFx0XHR9XG4gICAgICAgICAgICAgICAgb3B0aW9uYWx7XG4gICAgICAgICAgICAgICAgICAgID9hdXRldXIgYm5mLW9udG86Zmlyc3RZZWFyID9kYXRlX25haXNzYW5jZV9hdXRldXIuXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbmFse1xuICAgICAgICAgICAgICAgICAgICAgICAgP2F1dGV1ciBibmYtb250bzpsYXN0WWVhciA/ZGF0ZV9tb3J0X2F1dGV1ci5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRpb25hbHtcbiAgICAgICAgICAgICAgICAgICAgP2F1dGV1ciByZGFncm91cDJlbGVtZW50czpwbGFjZU9mQmlydGggP2xpZXVfbmFpc3NhbmNlX2F1dGV1ci5cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWx7XG4gICAgICAgICAgICAgICAgICAgICAgICA/YXV0ZXVyIHJkYWdyb3VwMmVsZW1lbnRzOnBsYWNlT2ZEZWF0aCA/bGlldV9tb3J0X2F1dGV1ci5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRpb25hbHtcbiAgICAgICAgICAgICAgICAgICAgP2F1dGV1ciByZGFncm91cDJlbGVtZW50czpjb3VudHJ5QXNzb2NpYXRlZFdpdGhUaGVQZXJzb24gP3BheXNfYXV0ZXVyLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRpb25hbHtcbiAgICAgICAgICAgICAgICAgICAgP2F1dGV1ciBmb2FmOmRlcGljdGlvbiA/aW1hZ2VfYXV0ZXVyLlxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXIocmVnZXgoP2ltYWdlX2F1dGV1ciwgXCJodHRwOi8vY29tbW9ucy53aWtpbWVkaWEub3JnL3dpa2kvU3BlY2lhbDpGaWxlUGF0aC9cIikpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdGlvbmFse1xuICAgICAgICAgICAgICAgICAgICA/YXV0ZXVyIHJkYWdyb3VwMmVsZW1lbnRzOmJpb2dyYXBoaWNhbEluZm9ybWF0aW9uID9pbmZvcm1hdGlvbnNfYXV0ZXVyLlxuICAgICAgICAgICAgICAgIH1cbiAgXHRcdFx0XHQge1xuICAgICAgICAgICAgICAgICAgICA/bWFuaWZlc3RhdGlvbiBibmYtb250bzppc2JuIFwiIi5jb25jYXQoaXNibi5nZXRGb3JtYXRlZElTQk4oKSwgIlwiXG4gICAgICAgICAgICAgICAgfSBVTklPTiB7XG4gICAgICAgICAgICAgICAgICAgID9tYW5pZmVzdGF0aW9uIGJuZi1vbnRvOmlzYm4gXCIiKS5jb25jYXQoaXNibi5nZXRGb3JtYXRlZElTQk4xMCgpLCAiXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW1pdCAxIikpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdF9hdXRldXIpIHsKICAgICAgICAgIF90aGlzMi5maWxsSW5mb3NBdXRldXIocmVzdWx0X2F1dGV1ciwgaXNibik7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXF1ZXRlX2Rvbm5lc19jb21wbGVtZW50YWlyZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlcXVldGVfZG9ubmVzX2NvbXBsZW1lbnRhaXJlcyhpc2JuKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgewogICAgICAgIHZhciBzcGFycWwgPSBuZXcgU3BhcnFsKCdodHRwczovL2RhdGEuYm5mLmZyL3NwYXJxbCcpOwogICAgICAgIHNwYXJxbC5xdWVyeSgiUFJFRklYIGJuZi1vbnRvOiA8aHR0cDovL2RhdGEuYm5mLmZyL29udG9sb2d5L2JuZi1vbnRvLz5cbiAgICAgICAgICAgIFBSRUZJWCByZGFyZWxhdGlvbnNoaXBzOiA8aHR0cDovL3Jkdm9jYWIuaW5mby9SREFSZWxhdGlvbnNoaXBzV0VNSS8+XG4gICAgICAgICAgICBQUkVGSVggZGN0ZXJtczogPGh0dHA6Ly9wdXJsLm9yZy9kYy90ZXJtcy8+XG4gICAgICAgICAgICBQUkVGSVggZm9hZjogPGh0dHA6Ly94bWxucy5jb20vZm9hZi8wLjEvPlxuICAgICAgICAgICAgUFJFRklYIHJkZjogPGh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyM+XG4gICAgICAgICAgICBQUkVGSVggc2tvczogPGh0dHA6Ly93d3cudzMub3JnLzIwMDQvMDIvc2tvcy9jb3JlIz5cbiAgICAgICAgICAgIFBSRUZJWCBibmZyb2xlczogPGh0dHA6Ly9kYXRhLmJuZi5mci92b2NhYnVsYXJ5L3JvbGVzLz5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2VsZWN0ID9pc2JuID9leHRyYWl0X21hbmlmZXN0YXRpb24gP3RpdHJlX21hbmlmZXN0YXRpb25zX2F1dGV1ciA/cHViID9kYXRlX21hbmlmZXN0YXRpb25zX2F1dGV1ciA/c3VqZXRfYXV0ZXVyIHdoZXJle1xuICAgICAgICAgICAgICAgID9tYW5pZmVzdGF0aW9uIHJkYXJlbGF0aW9uc2hpcHM6ZXhwcmVzc2lvbk1hbmlmZXN0ZWQgP2V4cHJlc3Npb24uXG4gICAgICAgICAgICAgICAgP2V4cHJlc3Npb24gYm5mcm9sZXM6cjcwID9hdXRldXIuXG4gICAgICAgICAgICAgICAgP2V4cHJlc3Npb25zX2F1dGV1ciBibmZyb2xlczpyNzAgP2F1dGV1ci5cbiAgICAgICAgICAgICAgICAjZGN0ZXJtczpsYW5ndWFnZSA8aHR0cDovL2lkLmxvYy5nb3Yvdm9jYWJ1bGFyeS9pc282MzktMi9mcmU+LlxuICAgICAgICAgICAgICAgID9tYW5pZmVzdGF0aW9uc19hdXRldXIgcmRhcmVsYXRpb25zaGlwczpleHByZXNzaW9uTWFuaWZlc3RlZCA/ZXhwcmVzc2lvbnNfYXV0ZXVyO1xuICAgICAgICAgICAgICAgICAgICBkY3Rlcm1zOnRpdGxlID90aXRyZV9tYW5pZmVzdGF0aW9uc19hdXRldXI7XG4gICAgICAgICAgICAgICAgICAgIGRjdGVybXM6ZGF0ZSA/ZGF0ZV9tYW5pZmVzdGF0aW9uc19hdXRldXI7XG4gICAgICAgICAgICAgICAgICAgIGJuZi1vbnRvOmlzYm4gP2lzYm47XG4gICAgICAgICAgICAgICAgICAgIGRjdGVybXM6cHVibGlzaGVyID9wdWIuXG4gICAgICAgICAgICAgICAgb3B0aW9uYWx7XG4gICAgICAgICAgICAgICAgICAgID9tYW5pZmVzdGF0aW9uc19hdXRldXIgZGN0ZXJtczphYnN0cmFjdCA/ZXh0cmFpdF9tYW5pZmVzdGF0aW9uLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRpb25hbHtcbiAgICAgICAgICAgICAgICAgICAgP21hbmlmZXN0YXRpb25zX2F1dGV1ciBkY3Rlcm1zOnN1YmplY3QgP3N1amV0X2F1dGV1ci5cbiAgICAgICAgICAgICAgICB9XG4gIFx0XHRcdFx0e1xuICAgICAgICAgICAgICAgICAgICA/bWFuaWZlc3RhdGlvbiBibmYtb250bzppc2JuIFwiIi5jb25jYXQoaXNibi5nZXRGb3JtYXRlZElTQk4oKSwgIlwiXG4gICAgICAgICAgICAgICAgfSBVTklPTiB7XG4gICAgICAgICAgICAgICAgICAgID9tYW5pZmVzdGF0aW9uIGJuZi1vbnRvOmlzYm4gXCIiKS5jb25jYXQoaXNibi5nZXRGb3JtYXRlZElTQk4xMCgpLCAiXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGdyb3VwIGJ5ID90aXRyZV9tYW5pZmVzdGF0aW9uc19hdXRldXJcbiAgICAgICAgICAgIGxpbWl0IDEwMCIpKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRfY29tcGxlbWVudGFpcmVzKSB7CiAgICAgICAgICBfdGhpczMuZmlsbEluZm9zQ29tcGxlbWVudGFpcmVzKHJlc3VsdF9jb21wbGVtZW50YWlyZXMsIGlzYm4pOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0VmFsdWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKCRvYmpldCwgJGwpIHsKICAgICAgcmV0dXJuICRvYmpldFskbF0gPyAkb2JqZXRbJGxdLnZhbHVlIDogIiI7CiAgICB9CiAgfSwgewogICAga2V5OiAiZmlsbElTQk4xMCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmlsbElTQk4xMChpc2JuKSB7CiAgICAgIHZhciBpc2JuID0gdGhpcy5pc2JuLmdldElTQk4xMCgpOwogICAgICB0aGlzLnJlc3VsdGF0cy5pc2JuMTAgPSBpc2JuOwogICAgfQogIH0sIHsKICAgIGtleTogImZpbGxJbmZvcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmlsbEluZm9zKHJlc3VsdCwgaXNibikgewogICAgICBpZiAocmVzdWx0LnJlc3VsdHMuYmluZGluZ3MubGVuZ3RoKSB7CiAgICAgICAgdmFyIHJlc3VsdGF0cyA9IHJlc3VsdC5yZXN1bHRzLmJpbmRpbmdzWzBdOwogICAgICAgIHRoaXMucmVzdWx0YXRzLnRpdHJlX21hbmlmZXN0YXRpb24gPSB0aGlzLmdldFZhbHVlKHJlc3VsdGF0cywgJ3RpdHJlX21hbmlmZXN0YXRpb24nKTsKICAgICAgICB0aGlzLnJlc3VsdGF0cy5kYXRlX21hbmlmZXN0YXRpb24gPSB0aGlzLmdldFZhbHVlKHJlc3VsdGF0cywgJ2RhdGVfbWFuaWZlc3RhdGlvbicpOwogICAgICAgIHRoaXMucmVzdWx0YXRzLmxpZXVfcHVibGljYXRpb25fbWFuaWZlc3RhdGlvbiA9IHRoaXMuZ2V0VmFsdWUocmVzdWx0YXRzLCAnbGlldV9wdWJsaWNhdGlvbl9tYW5pZmVzdGF0aW9uJyk7CiAgICAgICAgdGhpcy5yZXN1bHRhdHMubGFuZ3VlX2V4cHJlc3Npb24gPSB0aGlzLmdldFZhbHVlKHJlc3VsdGF0cywgJ2xhbmd1ZV9leHByZXNzaW9uJyk7CiAgICAgICAgdGhpcy5yZXN1bHRhdHMuZGVzY3JpcHRpb25fbWFuaWZlc3RhdGlvbiA9IHRoaXMuZ2V0VmFsdWUocmVzdWx0YXRzLCAnZGVzY3JpcHRpb25fbWFuaWZlc3RhdGlvbicpOwogICAgICAgIHRoaXMucmVzdWx0YXRzLmVkaXRldXJfbWFuaWZlc3RhdGlvbiA9IHRoaXMuZ2V0VmFsdWUocmVzdWx0YXRzLCAnZWRpdGV1cl9tYW5pZmVzdGF0aW9uJyk7CiAgICAgICAgdGhpcy5yZXN1bHRhdHMubm9tX2F1dGV1ciA9IHRoaXMuZ2V0VmFsdWUocmVzdWx0YXRzLCAnbm9tX2F1dGV1cicpOwogICAgICAgIHRoaXMucmVzdWx0YXRzLnN1amV0X29ldXZyZSA9IHRoaXMuZ2V0VmFsdWUocmVzdWx0YXRzLCAnc3VqZXRfb2V1dnJlJyk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJmaWxsSW5mb3NBdXRldXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZpbGxJbmZvc0F1dGV1cihyZXN1bHRfYXV0ZXVyLCBpc2JuKSB7CiAgICAgIGlmIChyZXN1bHRfYXV0ZXVyLnJlc3VsdHMuYmluZGluZ3MubGVuZ3RoKSB7CiAgICAgICAgdmFyIHJlc3VsdGF0cyA9IHJlc3VsdF9hdXRldXIucmVzdWx0cy5iaW5kaW5nc1swXTsKICAgICAgICB0aGlzLnJlc3VsdGF0cy5hdXRldXIucGF5c19hdXRldXIgPSB0aGlzLmdldFZhbHVlKHJlc3VsdGF0cywgJ3BheXNfYXV0ZXVyJyk7CiAgICAgICAgdGhpcy5yZXN1bHRhdHMuYXV0ZXVyLmltYWdlX2F1dGV1ciA9IHRoaXMuZ2V0VmFsdWUocmVzdWx0YXRzLCAiaW1hZ2VfYXV0ZXVyIik7CiAgICAgICAgdGhpcy5yZXN1bHRhdHMuYXV0ZXVyLmluZm9ybWF0aW9uc19hdXRldXIgPSB0aGlzLmdldFZhbHVlKHJlc3VsdGF0cywgJ2luZm9ybWF0aW9uc19hdXRldXInKTsKICAgICAgICB0aGlzLnJlc3VsdGF0cy5hdXRldXIucGFnZV9hdXRldXIgPSB0aGlzLmdldFZhbHVlKHJlc3VsdGF0cywgJ3BhZ2VfYXV0ZXVyJyk7CiAgICAgICAgdGhpcy5yZXN1bHRhdHMuYXV0ZXVyLmRhdGVfbmFpc3NhbmNlX2F1dGV1ciA9IHRoaXMuZ2V0VmFsdWUocmVzdWx0YXRzLCAnZGF0ZV9uYWlzc2FuY2VfYXV0ZXVyJyk7CiAgICAgICAgdGhpcy5yZXN1bHRhdHMuYXV0ZXVyLmxpZXVfbmFpc3NhbmNlX2F1dGV1ciA9IHRoaXMuZ2V0VmFsdWUocmVzdWx0YXRzLCAnbGlldV9uYWlzc2FuY2VfYXV0ZXVyJyk7CiAgICAgICAgdGhpcy5yZXN1bHRhdHMuYXV0ZXVyLmRhdGVfbW9ydF9hdXRldXIgPSB0aGlzLmdldFZhbHVlKHJlc3VsdGF0cywgJ2RhdGVfbW9ydF9hdXRldXInKTsKICAgICAgICB0aGlzLnJlc3VsdGF0cy5hdXRldXIubGlldV9tb3J0X2F1dGV1ciA9IHRoaXMuZ2V0VmFsdWUocmVzdWx0YXRzLCAnbGlldV9tb3J0X2F1dGV1cicpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZmlsbEluZm9zQ29tcGxlbWVudGFpcmVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmaWxsSW5mb3NDb21wbGVtZW50YWlyZXMocmVzdWx0X2NvbXBsZW1lbnRhaXJlcywgaXNibikgewogICAgICBpZiAocmVzdWx0X2NvbXBsZW1lbnRhaXJlcy5yZXN1bHRzLmJpbmRpbmdzLmxlbmd0aCkgewogICAgICAgIHRoaXMucmVzdWx0YXRzLmRvbm5lZXNfY29tcGxlbWVudGFpcmVzID0gW107CiAgICAgICAgdmFyIHJlc3VsdGF0cyA9IHJlc3VsdF9jb21wbGVtZW50YWlyZXMucmVzdWx0cy5iaW5kaW5nczsKCiAgICAgICAgZm9yICh2YXIgaSBpbiByZXN1bHRhdHMpIHsKICAgICAgICAgIHZhciBkb25uZWVzID0gewogICAgICAgICAgICBpc2JuOiB0aGlzLmdldFZhbHVlKHJlc3VsdGF0c1tpXSwgImlzYm4iKSwKICAgICAgICAgICAgZXh0cmFpdF9tYW5pZmVzdGF0aW9uOiB0aGlzLmdldFZhbHVlKHJlc3VsdGF0c1tpXSwgImV4dHJhaXRfbWFuaWZlc3RhdGlvbiIpLAogICAgICAgICAgICB0aXRyZV9tYW5pZmVzdGF0aW9uc19hdXRldXI6IHRoaXMuZ2V0VmFsdWUocmVzdWx0YXRzW2ldLCAndGl0cmVfbWFuaWZlc3RhdGlvbnNfYXV0ZXVyJyksCiAgICAgICAgICAgIHB1YjogdGhpcy5nZXRWYWx1ZShyZXN1bHRhdHNbaV0sICdwdWIudmFsdWUnKSwKICAgICAgICAgICAgZGF0ZV9tYW5pZmVzdGF0aW9uc19hdXRldXI6IHRoaXMuZ2V0VmFsdWUocmVzdWx0YXRzW2ldLCAnZGF0ZV9tYW5pZmVzdGF0aW9uc19hdXRldXInKSwKICAgICAgICAgICAgc3VqZXRfYXV0ZXVyOiB0aGlzLmdldFZhbHVlKHJlc3VsdGF0c1tpXSwgJ3N1amV0X2F1dGV1cicpCiAgICAgICAgICB9OwogICAgICAgICAgdGhpcy5yZXN1bHRhdHMuZG9ubmVlc19jb21wbGVtZW50YWlyZXMucHVzaChkb25uZWVzKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiByZWN1cGVyYXRpb25Eb25uZWVzOwp9KCk7CgpleHBvcnQgeyByZWN1cGVyYXRpb25Eb25uZWVzIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["C:/Users/CAMILLE/Desktop/BNF-Scan/src/classes/recuperationDonnees.js"],"names":["Sparql","Isbn","recuperationDonnees","resultats","isbn","ean","requete_donnees_de_base","requete_donnees_auteur","requete_donnes_complementaires","fillISBN10","console","log","getFormatedISBN","getFormatedISBN10","sparql","query","then","result","fillInfos","catch","error","result_auteur","fillInfosAuteur","result_complementaires","fillInfosComplementaires","$objet","$l","value","getISBN10","isbn10","results","bindings","length","titre_manifestation","getValue","date_manifestation","lieu_publication_manifestation","langue_expression","description_manifestation","editeur_manifestation","nom_auteur","sujet_oeuvre","auteur","pays_auteur","image_auteur","informations_auteur","page_auteur","date_naissance_auteur","lieu_naissance_auteur","date_mort_auteur","lieu_mort_auteur","donnees_complementaires","i","donnees","extrait_manifestation","titre_manifestations_auteur","pub","date_manifestations_auteur","sujet_auteur","push"],"mappings":"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","sourcesContent":["import Sparql from './sparql.js';\nimport Isbn from './Isbn.js';\n\nexport default class recuperationDonnees{\n    constructor(resultats){\n        this.resultats = resultats;\n        this.isbn = new Isbn(resultats.ean);\n        this.requete_donnees_de_base(this.isbn);\n        this.requete_donnees_auteur(this.isbn);\n        this.requete_donnes_complementaires(this.isbn);\n        this.fillISBN10(this.isbn)\n    }\n    requete_donnees_de_base(isbn){\n        {\n            console.log(isbn.getFormatedISBN())\n            console.log(isbn.getFormatedISBN10())\n            var sparql= new Sparql('https://data.bnf.fr/sparql');\n            sparql.query(`PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n            PREFIX frbr-rda: <http://rdvocab.info/uri/schema/FRBRentitiesRDA/>\n            PREFIX bnf-onto: <http://data.bnf.fr/ontology/bnf-onto/>\n            PREFIX dcterms: <http://purl.org/dc/terms/>\n            PREFIX rdarelationships: <http://rdvocab.info/RDARelationshipsWEMI/>\n            PREFIX foaf: <http://xmlns.com/foaf/0.1/>\n            PREFIX rdagroup1elements: <http://rdvocab.info/Elements/>\n            Select ?titre_manifestation ?date_manifestation ?lieu_publication_manifestation ?langue_expression ?description_manifestation ?editeur_manifestation ?nom_auteur ?sujet_oeuvre where {\n                ?manif dcterms:title ?titre_manifestation;\n                    dcterms:date ?date_manifestation;\n                    dcterms:description ?description_manifestation;\n                    dcterms:publisher ?editeur_manifestation;\n                    rdagroup1elements:placeOfPublication ?lieu_publication_manifestation;\n                    rdarelationships:expressionManifested ?expression.\n                ?expression <http://data.bnf.fr/vocabulary/roles/r70> ?auteur.\n                optional{\n                    ?expression dcterms:language ?langue_expression.\n                }\n                optional{\n                    ?oeuvre rdarelationships:expressionOfWork ?expression;\n                        bnf-onto:subject ?sujet_oeuvre.\n                }\n                ?auteur foaf:name ?nom_auteur.\n                {\n                    ?manif bnf-onto:isbn \"${isbn.getFormatedISBN()}\"\n                } UNION {\n                    ?manif bnf-onto:isbn \"${isbn.getFormatedISBN10()}\"\n                }\n                }`).then(result=>{\n                    this.fillInfos(result,isbn);\n                }).catch(error=>{\n                    console.log(error);\n                });\n        }\n    }\n    requete_donnees_auteur(isbn){\n        {\n            var sparql= new Sparql('https://data.bnf.fr/sparql');\n            sparql.query(`PREFIX bnf-onto: <http://data.bnf.fr/ontology/bnf-onto/>\n            PREFIX rdarelationships: <http://rdvocab.info/RDARelationshipsWEMI/>\n            PREFIX foaf: <http://xmlns.com/foaf/0.1/>\n            PREFIX rdagroup2elements: <http://rdvocab.info/ElementsGr2/>\n            PREFIX dcterms: <http://purl.org/dc/terms/>\n\t\t\tPREFIX bnfroles: <http://data.bnf.fr/vocabulary/roles/>\n\n            select ?nom_auteur ?pays_auteur ?image_auteur ?informations_auteur ?page_auteur ?date_naissance_auteur ?lieu_naissance_auteur ?date_mort_auteur ?lieu_mort_auteur where{\n                ?manifestation rdarelationships:expressionManifested ?expression.\n                ?expression bnfroles:r70 ?auteur.\n                ?auteur foaf:name ?nom_auteur.\n  \t\t\t\toptional{\n    \t\t\t\t?auteur foaf:page ?page_auteur.\n  \t\t\t\t}\n                optional{\n                    ?auteur bnf-onto:firstYear ?date_naissance_auteur.\n                    optional{\n                        ?auteur bnf-onto:lastYear ?date_mort_auteur.\n                    }\n                }\n                optional{\n                    ?auteur rdagroup2elements:placeOfBirth ?lieu_naissance_auteur.\n                    optional{\n                        ?auteur rdagroup2elements:placeOfDeath ?lieu_mort_auteur.\n                    }\n                }\n                optional{\n                    ?auteur rdagroup2elements:countryAssociatedWithThePerson ?pays_auteur.\n                }\n                optional{\n                    ?auteur foaf:depiction ?image_auteur.\n                    filter(regex(?image_auteur, \"http://commons.wikimedia.org/wiki/Special:FilePath/\"))\n                }\n                optional{\n                    ?auteur rdagroup2elements:biographicalInformation ?informations_auteur.\n                }\n  \t\t\t\t {\n                    ?manifestation bnf-onto:isbn \"${isbn.getFormatedISBN()}\"\n                } UNION {\n                    ?manifestation bnf-onto:isbn \"${isbn.getFormatedISBN10()}\"\n                }\n            }\n            limit 1`).then(result_auteur=>{\n                this.fillInfosAuteur(result_auteur,isbn);\n            }).catch(error=>{\n                console.log(error);\n            });\n        }\n\n    }\n    requete_donnes_complementaires(isbn){\n        {\n            var sparql= new Sparql('https://data.bnf.fr/sparql');\n            sparql.query(`PREFIX bnf-onto: <http://data.bnf.fr/ontology/bnf-onto/>\n            PREFIX rdarelationships: <http://rdvocab.info/RDARelationshipsWEMI/>\n            PREFIX dcterms: <http://purl.org/dc/terms/>\n            PREFIX foaf: <http://xmlns.com/foaf/0.1/>\n            PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\n            PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n            PREFIX bnfroles: <http://data.bnf.fr/vocabulary/roles/>\n            \n            select ?isbn ?extrait_manifestation ?titre_manifestations_auteur ?pub ?date_manifestations_auteur ?sujet_auteur where{\n                ?manifestation rdarelationships:expressionManifested ?expression.\n                ?expression bnfroles:r70 ?auteur.\n                ?expressions_auteur bnfroles:r70 ?auteur.\n                #dcterms:language <http://id.loc.gov/vocabulary/iso639-2/fre>.\n                ?manifestations_auteur rdarelationships:expressionManifested ?expressions_auteur;\n                    dcterms:title ?titre_manifestations_auteur;\n                    dcterms:date ?date_manifestations_auteur;\n                    bnf-onto:isbn ?isbn;\n                    dcterms:publisher ?pub.\n                optional{\n                    ?manifestations_auteur dcterms:abstract ?extrait_manifestation.\n                }\n                optional{\n                    ?manifestations_auteur dcterms:subject ?sujet_auteur.\n                }\n  \t\t\t\t{\n                    ?manifestation bnf-onto:isbn \"${isbn.getFormatedISBN()}\"\n                } UNION {\n                    ?manifestation bnf-onto:isbn \"${isbn.getFormatedISBN10()}\"\n                }\n            }\n            \n            group by ?titre_manifestations_auteur\n            limit 100`).then(result_complementaires=>{\n                this.fillInfosComplementaires(result_complementaires,isbn);\n            }).catch(error=>{\n                console.log(error);\n            });\n        }\n    }\n    getValue($objet,$l) {\n        return ($objet[$l]?$objet[$l].value:\"\");\n    }\n\n    fillISBN10(isbn){\n        var isbn = this.isbn.getISBN10();\n        this.resultats.isbn10 = isbn;\n    }\n\n    fillInfos(result,isbn){\n        if(result.results.bindings.length){\n            let resultats=result.results.bindings[0];\n            this.resultats.titre_manifestation = this.getValue(resultats, 'titre_manifestation');\n            this.resultats.date_manifestation = this.getValue(resultats, 'date_manifestation');\n            this.resultats.lieu_publication_manifestation = this.getValue(resultats, 'lieu_publication_manifestation');\n            this.resultats.langue_expression = this.getValue(resultats, 'langue_expression');\n            this.resultats.description_manifestation = this.getValue(resultats, 'description_manifestation');\n            this.resultats.editeur_manifestation = this.getValue(resultats,'editeur_manifestation');\n            this.resultats.nom_auteur = this.getValue(resultats, 'nom_auteur');\n            this.resultats.sujet_oeuvre = this.getValue(resultats, 'sujet_oeuvre')\n        }\n    }\n    fillInfosAuteur(result_auteur,isbn){\n        if(result_auteur.results.bindings.length){\n            let resultats = result_auteur.results.bindings[0];\n            this.resultats.auteur.pays_auteur = this.getValue(resultats, 'pays_auteur');\n            this.resultats.auteur.image_auteur = this.getValue(resultats,\"image_auteur\");\n            this.resultats.auteur.informations_auteur = this.getValue(resultats, 'informations_auteur');\n            this.resultats.auteur.page_auteur = this.getValue(resultats, 'page_auteur');\n            this.resultats.auteur.date_naissance_auteur = this.getValue(resultats, 'date_naissance_auteur');\n            this.resultats.auteur.lieu_naissance_auteur = this.getValue(resultats, 'lieu_naissance_auteur');\n            this.resultats.auteur.date_mort_auteur = this.getValue(resultats, 'date_mort_auteur');\n            this.resultats.auteur.lieu_mort_auteur = this.getValue(resultats, 'lieu_mort_auteur')\n        }\n    }\n    fillInfosComplementaires(result_complementaires, isbn){\n        if(result_complementaires.results.bindings.length){ \n            this.resultats.donnees_complementaires=[];\n            let resultats = result_complementaires.results.bindings;\n            for (let i in resultats){\n                let donnees={\n                    isbn:this.getValue(resultats[i],\"isbn\"),\n                    extrait_manifestation:this.getValue(resultats[i], \"extrait_manifestation\"),\n                    titre_manifestations_auteur:this.getValue(resultats[i],'titre_manifestations_auteur'),\n                    pub:this.getValue(resultats[i],'pub.value'),\n                    date_manifestations_auteur:this.getValue(resultats[i],'date_manifestations_auteur'),\n                    sujet_auteur:this.getValue(resultats[i],'sujet_auteur')\n                };\n                this.resultats.donnees_complementaires.push(donnees);\n            }\n            \n        }\n    }\n}"]}]}